# Test configuration: INVALID - Port Mismatch
# This should FAIL validation with port mismatch error

namespace: sms-spam-detection

imageRegistry: ghcr.io
imageOrganization: doda25-team12
imagePullPolicy: Always

imagePullSecrets:
  enabled: false

modelService:
  enabled: true
  name: model-service
  versionLabel: v1
  image:
    repository: model-service
    tag: latest
  replicas: 2
  canary:
    enabled: false
  shadow:
    enabled: false
  service:
    type: ClusterIP
    port: 8081  # Correct port

appService:
  enabled: true
  name: app-service
  versionLabel: v1
  image:
    repository: app
    tag: latest
  replicas: 2
  canary:
    enabled: false
  service:
    type: ClusterIP
    port: 8080

persistence:
  enabled: true
  storageType: hostPath
  hostPath:
    path: /mnt/shared/models
  accessMode: ReadOnlyMany
  size: 1Gi

ingress:
  enabled: true
  className: nginx
  host: sms.local

config:
  appInternalPort: "8080"
  modelInternalPort: "8082"  # ‚ùå MISMATCH - should be 8081
  modelServiceUrl: "http://model-service:8081"

istio:
  enabled: false

monitoring:
  enabled: false

prometheusRule:
  enabled: false

alertmanagerConfig:
  enabled: false
